<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>موقع 7soon</title>
    <link rel="stylesheet" href="styles.css">
    <!-- تضمين بايبال JavaScript SDK -->
    <script src="https://www.paypal.com/sdk/js?client-id=iaBhm7f9sM_zTpAgmRqPQu8iKY5-nRn_Ae4c5POc-A-WgTpiC8MpPEFdttmd8yDZnETaxDjZepN&currency=USD"></script>
</head>
<body>

    <!-- Navbar -->
    <header>
        <nav>
            <ul>
                <li><a href="index.html" class="home-link">الرئيسية</a></li>
                <li><a href="products.html" class="products-link">المنتجات</a></li>
                <li><a href="javascript:void(0);" id="cert-button" class="cert-link">Cert</a></li>
                <!-- زر السلة -->
                <li><button id="cartButton" onclick="toggleCart()">سلة التسوق</button></li>
            </ul>
        </nav>
        <!-- زر تغيير اللغة -->
        <button id="language-toggle">تغيير اللغة</button>
    </header>

    <!-- محتوى الصفحة الرئيسية -->
    <main>
        <section class="intro">
            <h1 class="main-heading">مرحباً بك في متجر 7soon!</h1>
            <p class="main-description">متجر الكتروني يوفر لك أفضل المنتجات في عالم التكنولوجيا.</p>
            <button class="shop-now">تسوق الآن</button>
        </section>

        <section class="products">
            <h2 class="products-heading">منتجاتنا</h2>
            <div class="product-list">
                <!-- منتج 1 -->
                <div class="product-card">
                    <img src="product1.jpg" alt="منتج 1">
                    <h3 class="product-name">tweak</h3>
                    <p class="product-description">زيادة الفريمات وتخفيف الجهاز.</p>
                    <p class="product-price">السعر: $15</p>
                    <button class="add-to-cart" onclick="addToCart('منتج 1', 15)">إضافة إلى السلة</button>
                </div>

                <!-- منتج 2 -->
                <div class="product-card">
                    <img src="product2.jpg" alt="منتج 2">
                    <h3 class="product-name">macro</h3>
                    <p class="product-description">تسوي إدات بضغط زر 2.</p>
                    <p class="product-price">السعر: $10</p>
                    <button class="add-to-cart" onclick="addToCart('منتج 2', 10)">إضافة إلى السلة</button>
                </div>

                <!-- منتج 3 -->
                <div class="product-card">
                    <img src="product3.jpg" alt="منتج 3">
                    <h3 class="product-name">hacke fortnite 3</h3>
                    <p class="product-description">هاك فورتنايت مع ميزات متعددة.</p>
                    <p class="product-price">السعر: $25</p>
                    <button class="add-to-cart" onclick="addToCart('منتج 3', 25)">إضافة إلى السلة</button>
                </div>
            </div>
        </section>
    </main>

    <!-- نافذة Cert (Modal) -->
    <div id="cert-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeCert()">&times;</span>
            <h2 class="cert-heading">معلومات Cert</h2>
            <p class="cert-description">هذه هي صفحة الشهادات. يمكنك هنا الاطلاع على جميع تفاصيل الشهادات.</p>
        </div>
    </div>

    <!-- سلة التسوق -->
    <div id="cart-container" class="cart-container">
        <div id="cart-content">
            <h2>سلة التسوق</h2>
            <ul id="cart-items-list">
                <!-- سيتم إضافة العناصر هنا بواسطة جافا سكريبت -->
            </ul>
            <p>المجموع: $<span id="cart-total">0</span></p>
            <!-- زر الدفع بايبال -->
            <div id="paypal-button-container"></div>
        </div>
        <button class="close-cart" onclick="toggleCart()">إغلاق السلة</button>
    </div>

    <script>
        // تخزين محتويات السلة
        let cart = [];

        // إضافة منتج إلى السلة
        function addToCart(productName, price) {
            cart.push({ productName, price });
            updateCart();
        }

        // تحديث السلة
        function updateCart() {
            const cartList = document.getElementById("cart-items-list");
            const cartTotal = document.getElementById("cart-total");
            cartList.innerHTML = "";  // مسح السلة الحالية

            let total = 0;

            // إضافة العناصر إلى السلة
            cart.forEach(item => {
                const listItem = document.createElement("li");
                listItem.textContent = `${item.productName} - $${item.price}`;
                cartList.appendChild(listItem);
                total += item.price;
            });

            // تحديث المجموع
            cartTotal.textContent = total;

            // تفعيل زر بايبال
            if (total > 0) {
                renderPaypalButton();
            }
        }

        // التبديل بين إظهار وإخفاء السلة
        function toggleCart() {
            const cartContainer = document.getElementById("cart-container");
            cartContainer.style.display = cartContainer.style.display === "block" ? "none" : "block";
        }

        // عرض زر بايبال
        function renderPaypalButton() {
            paypal.Buttons({
                createOrder: function(data, actions) {
                    return actions.order.create({
                        purchase_units: [{
                            amount: {
                                value: document.getElementById("cart-total").textContent
                            }
                        }]
                    });
                },
                onApprove: function(data, actions) {
                    return actions.order.capture().then(function(details) {
                        alert("تم الدفع بنجاح! مرحباً " + details.payer.name.given_name);
                    });
                }
            }).render('#paypal-button-container');
        }

        // إغلاق نافذة Cert
        function closeCert() {
            document.getElementById("cert-modal").style.display = "none";
        }

        // تفعيل السلة عند الضغط على زر السلة
        document.getElementById("cartButton").addEventListener("click", toggleCart);
    </script>

    <script src="scripts.js"></script>
</body>
</html>
